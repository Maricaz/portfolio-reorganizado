{"version":3,"file":"ContactPage-AALM--Cg.js","names":[],"sources":["../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/send.js","../../src/pages/ContactPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n];\nconst Send = createLucideIcon(\"send\", __iconNode);\n\nexport { __iconNode, Send as default };\n//# sourceMappingURL=send.js.map\n","import { useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport * as z from 'zod'\nimport { useLanguage } from '@/contexts/LanguageContext'\nimport { insertContact } from '@/lib/queries'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card'\nimport { Mail, Send, Loader2, CheckCircle2 } from 'lucide-react'\nimport { useToast } from '@/hooks/use-toast'\nimport { useSEO } from '@/hooks/use-seo'\nimport { useAnalytics } from '@/hooks/use-analytics'\n\nexport default function ContactPage() {\n  const { t } = useLanguage()\n  const { toast } = useToast()\n  const { trackContactSubmit } = useAnalytics()\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [isSuccess, setIsSuccess] = useState(false)\n\n  useSEO({\n    title: `${t.contact.title} — Mariana Azevedo`,\n    description: t.contact.description,\n  })\n\n  // Define schema inside component to use translations dynamically\n  const contactSchema = z.object({\n    name: z\n      .string()\n      .min(\n        2,\n        t.contact.validation?.name || 'Name must be at least 2 characters',\n      ),\n    email: z\n      .string()\n      .email(t.contact.validation?.email || 'Invalid email address'),\n    message: z\n      .string()\n      .min(\n        10,\n        t.contact.validation?.message ||\n          'Message must be at least 10 characters',\n      ),\n    company: z.string().optional(), // Honeypot field\n  })\n\n  type ContactFormValues = z.infer<typeof contactSchema>\n\n  const form = useForm<ContactFormValues>({\n    resolver: zodResolver(contactSchema),\n    mode: 'onChange',\n    defaultValues: {\n      name: '',\n      email: '',\n      message: '',\n      company: '',\n    },\n  })\n\n  const { isValid } = form.formState\n\n  const onSubmit = async (values: ContactFormValues) => {\n    // Honeypot check\n    if (values.company) {\n      setIsSuccess(true)\n      form.reset()\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      // 1. Formspree Integration (Legacy/Backup)\n      const formspreeEndpoint = import.meta.env.VITE_FORMSPREE_ENDPOINT\n      if (formspreeEndpoint && !formspreeEndpoint.includes('PLACEHOLDER')) {\n        await fetch(formspreeEndpoint, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            name: values.name,\n            email: values.email,\n            message: values.message,\n            _subject: `[Portfólio] Nova mensagem de ${values.name}`,\n            _origin: window.location.href,\n          }),\n        }).catch((e) => console.warn('Formspree failed', e))\n      }\n\n      // 2. Supabase Persistence using new insertContact query\n      await insertContact({\n        name: values.name,\n        email: values.email,\n        message: values.message,\n        origin: window.location.href,\n      })\n\n      // Success handling\n      setIsSuccess(true)\n      trackContactSubmit(true)\n      toast({\n        title: t.contact.success,\n        variant: 'default',\n      })\n      form.reset()\n    } catch (error) {\n      console.error(error)\n      trackContactSubmit(false)\n      toast({\n        title: t.contact.error,\n        variant: 'destructive',\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-12 max-w-2xl\">\n      <div className=\"space-y-4 text-center mb-8 animate-fade-in-down\">\n        <h1 className=\"text-4xl font-bold tracking-tight\">{t.contact.title}</h1>\n        <p className=\"text-lg text-muted-foreground\">{t.contact.description}</p>\n      </div>\n\n      <Card className=\"animate-fade-in-up shadow-xl border-primary/10\">\n        <CardHeader className=\"bg-muted/30 pb-6 border-b border-border/50\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <Mail className=\"h-5 w-5 text-primary\" />\n            {t.contact.title}\n          </CardTitle>\n          <CardDescription>{t.contact.description}</CardDescription>\n        </CardHeader>\n        <CardContent className=\"pt-6\">\n          {isSuccess ? (\n            <div className=\"flex flex-col items-center justify-center py-12 text-center space-y-4 animate-fade-in\">\n              <div className=\"h-16 w-16 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center shadow-sm\">\n                <CheckCircle2 className=\"h-8 w-8\" />\n              </div>\n              <h3 className=\"text-xl font-bold text-green-800 dark:text-green-300\">\n                {t.contact.success}\n              </h3>\n              <Button\n                variant=\"outline\"\n                onClick={() => setIsSuccess(false)}\n                className=\"mt-4\"\n              >\n                {t.contact.send_another}\n              </Button>\n            </div>\n          ) : (\n            <Form {...form}>\n              <form\n                onSubmit={form.handleSubmit(onSubmit)}\n                className=\"space-y-6\"\n              >\n                {/* Honeypot Field */}\n                <FormField\n                  control={form.control}\n                  name=\"company\"\n                  render={({ field }) => (\n                    <FormItem className=\"hidden\">\n                      <FormControl>\n                        <Input {...field} tabIndex={-1} autoComplete=\"off\" />\n                      </FormControl>\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"name\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>{t.contact.name}</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"Ex: Mariana Azevedo\"\n                          {...field}\n                          className=\"bg-background/50\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>{t.contact.email}</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"Ex: mariana@example.com\"\n                          type=\"email\"\n                          {...field}\n                          className=\"bg-background/50\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={form.control}\n                  name=\"message\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>{t.contact.message}</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          placeholder={t.contact.message}\n                          className=\"min-h-[120px] bg-background/50 resize-y\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <Button\n                  type=\"submit\"\n                  className=\"w-full font-semibold shadow-lg hover:shadow-xl transition-all\"\n                  disabled={isSubmitting || !isValid}\n                >\n                  {isSubmitting ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      {t.contact.sending}\n                    </>\n                  ) : (\n                    <>\n                      <Send className=\"mr-2 h-4 w-4\" />\n                      {t.contact.send}\n                    </>\n                  )}\n                </Button>\n              </form>\n            </Form>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0],"mappings":"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"}