{"version":3,"file":"ForgotPassword-BhbGI2V7.js","names":["err: any"],"sources":["../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/arrow-left.js","../../src/pages/admin/ForgotPassword.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n];\nconst ArrowLeft = createLucideIcon(\"arrow-left\", __iconNode);\n\nexport { __iconNode, ArrowLeft as default };\n//# sourceMappingURL=arrow-left.js.map\n","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useAuth } from '@/hooks/use-auth'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n  CardFooter,\n} from '@/components/ui/card'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { Loader2, Mail, ArrowLeft, CheckCircle } from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { logSecurityEvent, triggerSecurityAlert } from '@/services/security'\n\nexport default function ForgotPassword() {\n  const [email, setEmail] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [submitted, setSubmitted] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const { resetPassword } = useAuth()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n\n    try {\n      const { error } = await resetPassword(email)\n      if (error) throw error\n\n      setSubmitted(true)\n\n      // Audit and Alert\n      // We don't wait for these to prevent blocking UI if they fail\n      logSecurityEvent('PASSWORD_RECOVERY_REQUEST', { email })\n      triggerSecurityAlert('PASSWORD_RESET', {\n        title: 'Security Alert: Password Reset Requested',\n        message: `A password reset was requested for email: ${email}`,\n        email,\n      })\n    } catch (err: any) {\n      setError(err.message || 'Ocorreu um erro ao enviar o email.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-muted/20 p-4 animate-fade-in\">\n      <Card className=\"w-full max-w-md shadow-lg border-primary/10\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">\n            Recuperar Senha\n          </CardTitle>\n          <CardDescription className=\"text-center\">\n            Digite seu email para receber o link de redefinição\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {submitted ? (\n            <div className=\"text-center space-y-4 py-4 animate-fade-in\">\n              <div className=\"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center\">\n                <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-500\" />\n              </div>\n              <div className=\"space-y-2\">\n                <h3 className=\"font-semibold text-lg\">Email Enviado!</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  Se um conta existir com o email <strong>{email}</strong>, você\n                  receberá instruções para redefinir sua senha em breve.\n                </p>\n              </div>\n              <Button\n                variant=\"outline\"\n                className=\"w-full mt-4\"\n                onClick={() => setSubmitted(false)}\n              >\n                Tentar outro email\n              </Button>\n            </div>\n          ) : (\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {error && (\n                <Alert variant=\"destructive\">\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"admin@exemplo.com\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                    disabled={loading}\n                    className=\"pl-9\"\n                  />\n                </div>\n              </div>\n              <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                {loading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Enviando...\n                  </>\n                ) : (\n                  'Enviar Link de Recuperação'\n                )}\n              </Button>\n            </form>\n          )}\n        </CardContent>\n        <CardFooter className=\"justify-center border-t p-4 bg-muted/10\">\n          <Link\n            to=\"/admin/login\"\n            className={cn(\n              'flex items-center text-sm text-muted-foreground hover:text-primary transition-colors',\n              loading && 'pointer-events-none opacity-50',\n            )}\n          >\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\n            Voltar para o Login\n          </Link>\n        </CardFooter>\n      </Card>\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0],"mappings":"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"}