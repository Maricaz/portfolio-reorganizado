{"version":3,"file":"AdminLayout-BktqK4y6.js","names":["__iconNode","Popover","PopperPrimitive.Root","PopperPrimitive.Anchor","PopoverTrigger","PortalPrimitive","PopoverContent","RemoveScroll","PopperPrimitive.Content","PopperPrimitive.Arrow","Portal"],"sources":["../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/log-out.js","../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/settings.js","../../src/components/admin/AdminSidebar.tsx","../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/@radix-ui+react-popover@1.1.15_@types+react-dom@19.2.3_@types+react@19.2.7__@types+reac_aba36e289011c7efa5498b0a55e1bb01/node_modules/@radix-ui/react-popover/dist/index.mjs","../../src/components/ui/popover.tsx","../../src/components/admin/Notifications.tsx","../../src/components/ui/sheet.tsx","../../src/components/admin/AdminHeader.tsx","../../src/pages/admin/AdminLayout.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 17 5-5-5-5\", key: \"1bji2h\" }],\n  [\"path\", { d: \"M21 12H9\", key: \"dn1m92\" }],\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }]\n];\nconst LogOut = createLucideIcon(\"log-out\", __iconNode);\n\nexport { __iconNode, LogOut as default };\n//# sourceMappingURL=log-out.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915\",\n      key: \"1i5ecw\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Settings = createLucideIcon(\"settings\", __iconNode);\n\nexport { __iconNode, Settings as default };\n//# sourceMappingURL=settings.js.map\n","import { Link, useLocation, useNavigate } from 'react-router-dom'\nimport { cn } from '@/lib/utils'\nimport {\n  LayoutDashboard,\n  BookOpen,\n  Music,\n  FileText,\n  Settings,\n  Home,\n  Users,\n  ShieldAlert,\n  MessageSquare,\n  LogOut,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { LanguageSwitch } from '@/components/LanguageSwitch'\nimport { useAuth } from '@/hooks/use-auth'\n\ninterface AdminSidebarProps {\n  onNavigate?: () => void\n}\n\nexport const AdminSidebar = ({ onNavigate }: AdminSidebarProps) => {\n  const location = useLocation()\n  const { hasPermission, signOut } = useAuth()\n  const navigate = useNavigate()\n\n  const allItems = [\n    {\n      title: 'Overview',\n      url: '/admin',\n      icon: LayoutDashboard,\n      alwaysShow: true,\n    },\n    {\n      title: 'Contacts',\n      url: '/admin/contacts',\n      icon: MessageSquare,\n      permission: 'content',\n    },\n    {\n      title: 'Books',\n      url: '/admin/books',\n      icon: BookOpen,\n      permission: 'content',\n    },\n    {\n      title: 'Music',\n      url: '/admin/music',\n      icon: Music,\n      permission: 'content',\n    },\n    {\n      title: 'Resume',\n      url: '/admin/resume',\n      icon: FileText,\n      permission: 'content',\n    },\n    {\n      title: 'Audit Logs',\n      url: '/admin/audit-logs',\n      icon: ShieldAlert,\n      permission: 'audit',\n    },\n    {\n      title: 'Settings',\n      url: '/admin/settings',\n      icon: Settings,\n      permission: 'settings',\n    },\n    {\n      title: 'Users',\n      url: '/admin/users',\n      icon: Users,\n      permission: 'users',\n    },\n  ]\n\n  const items = allItems.filter(\n    (item) => item.alwaysShow || hasPermission(item.permission as any),\n  )\n\n  const handleLogout = async () => {\n    await signOut()\n    navigate('/admin/login')\n  }\n\n  return (\n    <div className=\"flex flex-col h-full w-full bg-card border-r\">\n      <div className=\"p-6 h-16 flex items-center\">\n        <h2 className=\"text-xl font-bold tracking-tight\">Admin</h2>\n      </div>\n      <div className=\"flex-1 px-3 py-2 space-y-1 overflow-y-auto\">\n        {items.map((item) => (\n          <Link\n            key={item.url}\n            to={item.url}\n            onClick={onNavigate}\n            className={cn(\n              'flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors',\n              location.pathname === item.url\n                ? 'bg-primary/10 text-primary'\n                : 'hover:bg-muted text-muted-foreground hover:text-foreground',\n            )}\n          >\n            <item.icon className=\"h-4 w-4\" />\n            {item.title}\n          </Link>\n        ))}\n      </div>\n      <div className=\"p-4 border-t space-y-4 mt-auto\">\n        <div className=\"flex justify-center\">\n          <LanguageSwitch />\n        </div>\n        <div className=\"space-y-2\">\n          <Button variant=\"outline\" className=\"w-full justify-start\" asChild>\n            <Link to=\"/\">\n              <Home className=\"mr-2 h-4 w-4\" />\n              View Site\n            </Link>\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"w-full justify-start text-destructive hover:text-destructive hover:bg-destructive/10\"\n            onClick={handleLogout}\n          >\n            <LogOut className=\"mr-2 h-4 w-4\" />\n            Logout\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","\"use client\";\n\n// src/popover.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover = (props) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME\n  });\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    PopoverProvider,\n    {\n      scope: __scopePopover,\n      contentId: useId(),\n      triggerRef,\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      hasCustomAnchor,\n      onCustomAnchorAdd: React.useCallback(() => setHasCustomAnchor(true), []),\n      onCustomAnchorRemove: React.useCallback(() => setHasCustomAnchor(false), []),\n      modal,\n      children\n    }\n  ) });\n};\nPopover.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nPopoverAnchor.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME = \"PopoverTrigger\";\nvar PopoverTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: trigger });\n  }\n);\nPopoverTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"PopoverPortal\";\nvar [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar PopoverPortal = (props) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopePopover, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nPopoverPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"PopoverContent\";\nvar PopoverContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nPopoverContent.displayName = CONTENT_NAME;\nvar Slot = createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(\n          props.onPointerDownOutside,\n          (event) => {\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n          },\n          { checkForDefaultPrevented: false }\n        ),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nvar PopoverContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar PopoverContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    useFocusGuards();\n    return /* @__PURE__ */ jsx(\n      FocusScope,\n      {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: /* @__PURE__ */ jsx(\n          DismissableLayer,\n          {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: () => context.onOpenChange(false),\n            children: /* @__PURE__ */ jsx(\n              PopperPrimitive.Content,\n              {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                  ...contentProps.style,\n                  // re-namespace exposed content custom properties\n                  ...{\n                    \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                  }\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME = \"PopoverArrow\";\nvar PopoverArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nPopoverArrow.displayName = ARROW_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar Root2 = Popover;\nvar Anchor2 = PopoverAnchor;\nvar Trigger = PopoverTrigger;\nvar Portal = PopoverPortal;\nvar Content2 = PopoverContent;\nvar Close = PopoverClose;\nvar Arrow2 = PopoverArrow;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  Close,\n  Content2 as Content,\n  Popover,\n  PopoverAnchor,\n  PopoverArrow,\n  PopoverClose,\n  PopoverContent,\n  PopoverPortal,\n  PopoverTrigger,\n  Portal,\n  Root2 as Root,\n  Trigger,\n  createPopoverScope\n};\n//# sourceMappingURL=index.mjs.map\n","/* Popover Component primitives - A component that displays a popover (a component that appears when you click on an element) - from shadcn/ui (exposes Popover, PopoverTrigger, PopoverContent) */\nimport * as React from 'react'\nimport * as PopoverPrimitive from '@radix-ui/react-popover'\n\nimport { cn } from '@/lib/utils'\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]',\n        className,\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","import { useEffect, useState } from 'react'\nimport { Bell, Check, Loader2, ExternalLink } from 'lucide-react'\nimport { Link } from 'react-router-dom'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport { Button } from '@/components/ui/button'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport {\n  getNotifications,\n  markNotificationAsRead,\n  markAllNotificationsAsRead,\n} from '@/services/admin'\nimport { Notification } from '@/types'\nimport { cn } from '@/lib/utils'\nimport { Badge } from '@/components/ui/badge'\n\nexport const Notifications = () => {\n  const [notifications, setNotifications] = useState<Notification[]>([])\n  const [loading, setLoading] = useState(false)\n  const [open, setOpen] = useState(false)\n\n  const fetchNotifications = async () => {\n    setLoading(true)\n    try {\n      const data = await getNotifications()\n      setNotifications(data || [])\n    } catch (error) {\n      console.error(error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchNotifications()\n    // Simple polling for new notifications\n    const interval = setInterval(fetchNotifications, 60000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const unreadCount = notifications.filter((n) => !n.read).length\n\n  const handleMarkAsRead = async (id: string, e?: React.MouseEvent) => {\n    if (e) e.stopPropagation()\n    try {\n      await markNotificationAsRead(id)\n      setNotifications((prev) =>\n        prev.map((n) => (n.id === id ? { ...n, read: true } : n)),\n      )\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  const handleMarkAllRead = async () => {\n    try {\n      await markAllNotificationsAsRead()\n      setNotifications((prev) => prev.map((n) => ({ ...n, read: true })))\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\n          <Bell className=\"h-5 w-5\" />\n          {unreadCount > 0 && (\n            <Badge\n              variant=\"destructive\"\n              className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center rounded-full p-0 text-[10px]\"\n            >\n              {unreadCount}\n            </Badge>\n          )}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-80 p-0\" align=\"end\">\n        <div className=\"flex items-center justify-between p-4 border-b\">\n          <h4 className=\"font-semibold\">Notifications</h4>\n          {unreadCount > 0 && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"text-xs h-auto py-1\"\n              onClick={handleMarkAllRead}\n            >\n              Mark all read\n            </Button>\n          )}\n        </div>\n        <ScrollArea className=\"h-[300px]\">\n          {loading && notifications.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full text-muted-foreground\">\n              <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n              Loading...\n            </div>\n          ) : notifications.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full text-muted-foreground p-4 text-sm\">\n              No notifications\n            </div>\n          ) : (\n            <div className=\"divide-y\">\n              {notifications.map((notification) => {\n                const Content = (\n                  <div\n                    className={cn(\n                      'p-4 transition-colors hover:bg-muted/50 flex gap-3 cursor-pointer',\n                      !notification.read && 'bg-muted/20',\n                    )}\n                    onClick={() => {\n                      if (!notification.read) {\n                        handleMarkAsRead(notification.id)\n                      }\n                      if (notification.link) {\n                        setOpen(false)\n                      }\n                    }}\n                  >\n                    <div className=\"flex-1 space-y-1\">\n                      <div className=\"flex items-center justify-between\">\n                        <p\n                          className={cn(\n                            'text-sm font-medium leading-none',\n                            !notification.read && 'font-semibold',\n                          )}\n                        >\n                          {notification.title}\n                        </p>\n                        {notification.link && (\n                          <ExternalLink className=\"h-3 w-3 text-muted-foreground\" />\n                        )}\n                      </div>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {notification.message}\n                      </p>\n                      <p className=\"text-[10px] text-muted-foreground/60\">\n                        {new Date(notification.created_at).toLocaleDateString()}{' '}\n                        {new Date(notification.created_at).toLocaleTimeString()}\n                      </p>\n                    </div>\n                    {!notification.read && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-6 w-6 shrink-0\"\n                        onClick={(e) => handleMarkAsRead(notification.id, e)}\n                      >\n                        <Check className=\"h-3 w-3\" />\n                        <span className=\"sr-only\">Mark read</span>\n                      </Button>\n                    )}\n                  </div>\n                )\n\n                return notification.link ? (\n                  <Link\n                    key={notification.id}\n                    to={notification.link}\n                    className=\"block\"\n                  >\n                    {Content}\n                  </Link>\n                ) : (\n                  <div key={notification.id}>{Content}</div>\n                )\n              })}\n            </div>\n          )}\n        </ScrollArea>\n      </PopoverContent>\n    </Popover>\n  )\n}\n","/* Sheet Component primitives - A component that displays a sheet (a modal that slides in from the side) - from shadcn/ui (exposes Sheet, SheetTrigger, SheetClose, SheetContent, SheetHeader, SheetFooter, SheetTitle, SheetDescription) */\nimport * as React from 'react'\nimport * as SheetPrimitive from '@radix-ui/react-dialog'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { X } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  'fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500',\n  {\n    variants: {\n      side: {\n        top: 'inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top',\n        bottom:\n          'inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom',\n        left: 'inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm',\n        right:\n          'inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm',\n      },\n    },\n    defaultVariants: {\n      side: 'right',\n    },\n  },\n)\n\ninterface SheetContentProps\n  extends\n    React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = 'right', className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-2 text-center sm:text-left',\n      className,\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = 'SheetHeader'\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className,\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = 'SheetFooter'\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn('text-lg font-semibold text-foreground', className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","import { Menu } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Notifications } from '@/components/admin/Notifications'\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet'\nimport { AdminSidebar } from '@/components/admin/AdminSidebar'\nimport { useState } from 'react'\n\nexport const AdminHeader = () => {\n  const [open, setOpen] = useState(false)\n\n  return (\n    <header className=\"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background px-6\">\n      <Sheet open={open} onOpenChange={setOpen}>\n        <SheetTrigger asChild>\n          <Button variant=\"outline\" size=\"icon\" className=\"md:hidden\">\n            <Menu className=\"h-5 w-5\" />\n            <span className=\"sr-only\">Toggle Menu</span>\n          </Button>\n        </SheetTrigger>\n        <SheetContent side=\"left\" className=\"p-0 w-64\">\n          <AdminSidebar onNavigate={() => setOpen(false)} />\n        </SheetContent>\n      </Sheet>\n\n      <div className=\"flex-1\">\n        <h1 className=\"text-lg font-semibold md:hidden\">Admin Panel</h1>\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        <Notifications />\n      </div>\n    </header>\n  )\n}\n","import { Outlet, Navigate, useLocation } from 'react-router-dom'\nimport { AdminSidebar } from '@/components/admin/AdminSidebar'\nimport { AdminHeader } from '@/components/admin/AdminHeader'\nimport { Toaster } from '@/components/ui/toaster'\nimport { useAuth } from '@/hooks/use-auth'\nimport { Loader2 } from 'lucide-react'\n\nexport default function AdminLayout() {\n  const { user, role, loading } = useAuth()\n  const location = useLocation()\n\n  // 1. Show loader while checking authentication and fetching role\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-background\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n          <p className=\"text-sm text-muted-foreground\">Verificando acesso...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // 2. Redirect to login if not authenticated\n  if (!user) {\n    return <Navigate to=\"/admin/login\" state={{ from: location }} replace />\n  }\n\n  // 3. Check for valid admin role\n  // Allowed roles for accessing the admin panel structure\n  const allowedRoles = ['admin', 'super_admin', 'editor']\n\n  if (!role || !allowedRoles.includes(role)) {\n    return (\n      <div className=\"flex min-h-screen flex-col items-center justify-center gap-4 bg-background p-4 text-center\">\n        <div className=\"rounded-full bg-destructive/10 p-4\">\n          <div className=\"h-8 w-8 text-destructive\">ðŸš«</div>\n        </div>\n        <h1 className=\"text-2xl font-bold\">Acesso Negado</h1>\n        <p className=\"text-muted-foreground max-w-md\">\n          VocÃª nÃ£o tem permissÃ£o para acessar a Ã¡rea administrativa. Entre em\n          contato com o administrador do sistema se acreditar que isso Ã© um\n          erro.\n        </p>\n        <button\n          onClick={() => (window.location.href = '/')}\n          className=\"text-primary hover:underline underline-offset-4 text-sm\"\n        >\n          Voltar para o site\n        </button>\n      </div>\n    )\n  }\n\n  // 4. Render Admin Layout\n  return (\n    <div className=\"flex min-h-screen bg-background w-full\">\n      {/* Desktop Sidebar */}\n      <div className=\"hidden md:block w-64 fixed inset-y-0 left-0 z-40\">\n        <AdminSidebar />\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex flex-col md:pl-64 min-w-0\">\n        <AdminHeader />\n        <main className=\"flex-1 overflow-y-auto bg-muted/5 p-4 md:p-8\">\n          <div className=\"max-w-6xl mx-auto w-full animate-fade-in\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n      <Toaster />\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0,1,3],"mappings":"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"}