{"version":3,"file":"storage-CcvHKqaE.js","names":[],"sources":["../../src/services/storage.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase/client'\n\nexport const uploadFile = async (\n  file: File,\n  bucket: string = 'portfolio-media',\n  folder: string = 'general',\n) => {\n  const fileExt = file.name.split('.').pop()\n  const fileName = `${Math.random().toString(36).substring(2, 15)}_${Date.now()}.${fileExt}`\n  const filePath = `${folder}/${fileName}`\n\n  const { error: uploadError } = await supabase.storage\n    .from(bucket)\n    .upload(filePath, file, {\n      upsert: true,\n    })\n\n  if (uploadError) {\n    throw uploadError\n  }\n\n  const { data } = supabase.storage.from(bucket).getPublicUrl(filePath)\n\n  return data.publicUrl\n}\n"],"mappings":";AAEA,MAAa,aAAa,OACxB,MACA,SAAiB,mBACjB,SAAiB,cACd;CACH,MAAM,UAAU,KAAK,KAAK,MAAM,IAAI,CAAC,KAAK;CAE1C,MAAM,WAAW,GAAG,OAAO,GADV,GAAG,KAAK,QAAQ,CAAC,SAAS,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,GAAG;CAGjF,MAAM,EAAE,OAAO,gBAAgB,MAAM,SAAS,QAC3C,KAAK,OAAO,CACZ,OAAO,UAAU,MAAM,EACtB,QAAQ,MACT,CAAC;AAEJ,KAAI,YACF,OAAM;CAGR,MAAM,EAAE,SAAS,SAAS,QAAQ,KAAK,OAAO,CAAC,aAAa,SAAS;AAErE,QAAO,KAAK"}