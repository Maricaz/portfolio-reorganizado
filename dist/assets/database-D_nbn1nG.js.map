{"version":3,"file":"database-D_nbn1nG.js","names":[],"sources":["../../src/services/database.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase/client'\n\nexport interface ContactFormData {\n  name: string\n  email: string\n  message: string\n  origin: string\n}\n\nexport async function submitContactForm(data: ContactFormData) {\n  // Using any cast to avoid type errors since we cannot update types.ts to include the new table\n  return await (supabase as any).from('contact_messages').insert(data)\n}\n\nexport async function getLatestItem() {\n  // Using any cast for tables that might be missing in the provided types definition\n  const { data: project } = await (supabase as any)\n    .from('it_projects')\n    .select('*')\n    .order('created_at', { ascending: false })\n    .limit(1)\n    .single()\n\n  const { data: book } = await supabase\n    .from('books')\n    .select('*')\n    .order('created_at', { ascending: false })\n    .limit(1)\n    .single()\n\n  if (!project && !book) return null\n\n  if (\n    !book ||\n    (project && new Date(project.created_at) > new Date(book.created_at))\n  ) {\n    return { type: 'project', item: project }\n  }\n\n  return { type: 'book', item: book }\n}\n"],"mappings":";AASA,eAAsB,kBAAkB,MAAuB;AAE7D,QAAO,MAAO,SAAiB,KAAK,mBAAmB,CAAC,OAAO,KAAK;;AAGtE,eAAsB,gBAAgB;CAEpC,MAAM,EAAE,MAAM,YAAY,MAAO,SAC9B,KAAK,cAAc,CACnB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC,CACzC,MAAM,EAAE,CACR,QAAQ;CAEX,MAAM,EAAE,MAAM,SAAS,MAAM,SAC1B,KAAK,QAAQ,CACb,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC,CACzC,MAAM,EAAE,CACR,QAAQ;AAEX,KAAI,CAAC,WAAW,CAAC,KAAM,QAAO;AAE9B,KACE,CAAC,QACA,WAAW,IAAI,KAAK,QAAQ,WAAW,GAAG,IAAI,KAAK,KAAK,WAAW,CAEpE,QAAO;EAAE,MAAM;EAAW,MAAM;EAAS;AAG3C,QAAO;EAAE,MAAM;EAAQ,MAAM;EAAM"}