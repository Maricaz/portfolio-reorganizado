{"version":3,"file":"AdminLayout-BJq7CkZf.js","names":["__iconNode"],"sources":["../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/log-out.js","../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/settings.js","../../src/components/admin/AdminSidebar.tsx","../../src/pages/admin/AdminLayout.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m16 17 5-5-5-5\", key: \"1bji2h\" }],\n  [\"path\", { d: \"M21 12H9\", key: \"dn1m92\" }],\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }]\n];\nconst LogOut = createLucideIcon(\"log-out\", __iconNode);\n\nexport { __iconNode, LogOut as default };\n//# sourceMappingURL=log-out.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915\",\n      key: \"1i5ecw\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Settings = createLucideIcon(\"settings\", __iconNode);\n\nexport { __iconNode, Settings as default };\n//# sourceMappingURL=settings.js.map\n","import { Link, useLocation } from 'react-router-dom'\nimport { cn } from '@/lib/utils'\nimport {\n  LayoutDashboard,\n  BookOpen,\n  Music,\n  FileText,\n  Settings,\n  LogOut,\n  Home,\n} from 'lucide-react'\nimport { useAuth } from '@/hooks/use-auth'\nimport { Button } from '@/components/ui/button'\n\nconst items = [\n  { title: 'Overview', url: '/admin', icon: LayoutDashboard },\n  { title: 'Books', url: '/admin/books', icon: BookOpen },\n  { title: 'Music', url: '/admin/music', icon: Music },\n  { title: 'Resume', url: '/admin/resume', icon: FileText },\n  { title: 'Settings', url: '/admin/settings', icon: Settings },\n]\n\nexport const AdminSidebar = () => {\n  const location = useLocation()\n  const { signOut } = useAuth()\n\n  return (\n    <div className=\"flex flex-col h-full w-64 bg-card border-r\">\n      <div className=\"p-6\">\n        <h2 className=\"text-xl font-bold tracking-tight\">Admin Panel</h2>\n      </div>\n      <div className=\"flex-1 px-3 py-2 space-y-1\">\n        {items.map((item) => (\n          <Link\n            key={item.url}\n            to={item.url}\n            className={cn(\n              'flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors',\n              location.pathname === item.url\n                ? 'bg-primary/10 text-primary'\n                : 'hover:bg-muted text-muted-foreground hover:text-foreground',\n            )}\n          >\n            <item.icon className=\"h-4 w-4\" />\n            {item.title}\n          </Link>\n        ))}\n      </div>\n      <div className=\"p-4 border-t space-y-2\">\n        <Button variant=\"outline\" className=\"w-full justify-start\" asChild>\n          <Link to=\"/\">\n            <Home className=\"mr-2 h-4 w-4\" />\n            View Site\n          </Link>\n        </Button>\n        <Button\n          variant=\"ghost\"\n          className=\"w-full justify-start text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20\"\n          onClick={() => signOut()}\n        >\n          <LogOut className=\"mr-2 h-4 w-4\" />\n          Logout\n        </Button>\n      </div>\n    </div>\n  )\n}\n","import { useEffect } from 'react'\nimport { Outlet, useNavigate } from 'react-router-dom'\nimport { useAuth } from '@/hooks/use-auth'\nimport { AdminSidebar } from '@/components/admin/AdminSidebar'\nimport { Toaster } from '@/components/ui/toaster'\n\nexport default function AdminLayout() {\n  const { user, role, loading } = useAuth()\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    if (!loading) {\n      if (!user) {\n        navigate('/admin/login')\n      } else if (role && role !== 'admin') {\n        // Optionally redirect to a forbidden page or home\n        // For now, redirect to login/home\n        console.warn('Unauthorized access attempt by', user.email)\n        navigate('/')\n      }\n    }\n  }, [user, role, loading, navigate])\n\n  if (loading)\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-pulse flex flex-col items-center gap-4\">\n          <div className=\"h-8 w-8 rounded-full bg-primary/20\"></div>\n          <div className=\"text-sm text-muted-foreground\">\n            Verifying access...\n          </div>\n        </div>\n      </div>\n    )\n\n  // Extra safety check\n  if (!user || role !== 'admin') return null\n\n  return (\n    <div className=\"flex h-screen bg-background overflow-hidden\">\n      <AdminSidebar />\n      <main className=\"flex-1 overflow-y-auto bg-muted/5 p-4 md:p-8\">\n        <div className=\"max-w-6xl mx-auto\">\n          <Outlet />\n        </div>\n      </main>\n      <Toaster />\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0,1],"mappings":";AAcA,IAAM,SAAS,iBAAiB,WALb;CACjB,CAAC,QAAQ;EAAE,GAAG;EAAkB,KAAK;EAAU,CAAC;CAChD,CAAC,QAAQ;EAAE,GAAG;EAAY,KAAK;EAAU,CAAC;CAC1C,CAAC,QAAQ;EAAE,GAAG;EAA2C,KAAK;EAAU,CAAC;CAC1E,CACqD;ACKtD,IAAM,WAAW,iBAAiB,YAVf,CACjB,CACE,QACA;CACE,GAAG;CACH,KAAK;CACN,CACF,EACD,CAAC,UAAU;CAAE,IAAI;CAAM,IAAI;CAAM,GAAG;CAAK,KAAK;CAAU,CAAC,CAC1D,CACwD;;;ACLzD,IAAA,QAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,MAAA,qBAAA;;;AAIE,QAAA,iBAAA,GAAA,mBAAA,MAAA,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBF,SAAwB,cAAc;CACpC,MAAM,EAAE,MAAM,MAAM,YAAY,SAAS;CACzC,MAAM,WAAW,aAAa;AAE9B,EAAA,GAAA,aAAA,iBAAgB;AACd,MAAI,CAAC;OACC,CAAC,KACH,UAAS,eAAe;YACf,QAAQ,SAAS,SAAS;AAGnC,YAAQ,KAAK,kCAAkC,KAAK,MAAM;AAC1D,aAAS,IAAI;;;IAGhB;EAAC;EAAM;EAAM;EAAS;EAAS,CAAC;AAEnC,KAAI,QACF,QACE,iBAAA,GAAA,mBAAA,KAAC,OAAA;EAAI,WAAU;YACb,iBAAA,GAAA,mBAAA,MAAC,OAAA;GAAI,WAAU;cACb,iBAAA,GAAA,mBAAA,KAAC,OAAA,EAAI,WAAU,sCAAA,CAA2C,EAC1D,iBAAA,GAAA,mBAAA,KAAC,OAAA;IAAI,WAAU;cAAgC;KAEzC,CAAA;IACF;GACF;AAIV,KAAI,CAAC,QAAQ,SAAS,QAAS,QAAO;AAEtC,QACE,iBAAA,GAAA,mBAAA,MAAC,OAAA;EAAI,WAAU;;GACb,iBAAA,GAAA,mBAAA,KAAC,cAAA,EAAA,CAAe;GAChB,iBAAA,GAAA,mBAAA,KAAC,QAAA;IAAK,WAAU;cACd,iBAAA,GAAA,mBAAA,KAAC,OAAA;KAAI,WAAU;eACb,iBAAA,GAAA,mBAAA,KAAC,QAAA,EAAA,CAAS;MACN;KACD;GACP,iBAAA,GAAA,mBAAA,KAAC,SAAA,EAAA,CAAU;;GACP"}