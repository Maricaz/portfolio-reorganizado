{"version":3,"file":"database-CS-45iv8.js","names":[],"sources":["../../src/services/database.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase/client'\nimport { ContactFormData, Language } from '@/types'\n\nexport async function submitContactForm(data: ContactFormData) {\n  // Using any cast to avoid type errors since we cannot update types.ts to include the new table\n  return await (supabase as any).from('contact_submissions').insert(data)\n}\n\nexport async function getLatestItem(language: Language = 'pt') {\n  // Using any cast for tables that might be missing in the provided types definition\n  const { data: project } = await (supabase as any)\n    .from('projects')\n    .select('*')\n    .order('created_at', { ascending: false })\n    .limit(1)\n    .single()\n\n  // Filter books by language to show relevant latest book\n  const { data: book } = await supabase\n    .from('books')\n    .select('*')\n    .eq('language', language)\n    .order('created_at', { ascending: false })\n    .limit(1)\n    .single()\n\n  if (!project && !book) return null\n\n  if (\n    !book ||\n    (project && new Date(project.created_at) > new Date(book.created_at))\n  ) {\n    return { type: 'project', item: project }\n  }\n\n  return { type: 'book', item: book }\n}\n"],"mappings":";AAGA,eAAsB,kBAAkB,MAAuB;AAE7D,QAAO,MAAO,SAAiB,KAAK,sBAAsB,CAAC,OAAO,KAAK;;AAGzE,eAAsB,cAAc,WAAqB,MAAM;CAE7D,MAAM,EAAE,MAAM,YAAY,MAAO,SAC9B,KAAK,WAAW,CAChB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC,CACzC,MAAM,EAAE,CACR,QAAQ;CAGX,MAAM,EAAE,MAAM,SAAS,MAAM,SAC1B,KAAK,QAAQ,CACb,OAAO,IAAI,CACX,GAAG,YAAY,SAAS,CACxB,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC,CACzC,MAAM,EAAE,CACR,QAAQ;AAEX,KAAI,CAAC,WAAW,CAAC,KAAM,QAAO;AAE9B,KACE,CAAC,QACA,WAAW,IAAI,KAAK,QAAQ,WAAW,GAAG,IAAI,KAAK,KAAK,WAAW,CAEpE,QAAO;EAAE,MAAM;EAAW,MAAM;EAAS;AAG3C,QAAO;EAAE,MAAM;EAAQ,MAAM;EAAM"}