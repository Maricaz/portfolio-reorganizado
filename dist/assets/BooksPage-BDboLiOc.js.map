{"version":3,"file":"BooksPage-BDboLiOc.js","names":["__iconNode"],"sources":["../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../../../cache/modules/portfolio-reorganizado-7831f/node_modules/.pnpm/lucide-react@0.562.0_react@19.2.3/node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../src/services/books.ts","../../src/pages/BooksPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode);\n\nexport { __iconNode, ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode);\n\nexport { __iconNode, ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","import { supabase } from '@/lib/supabase/client'\nimport { Book, Language } from '@/types'\n\nexport const getBooks = async (language: Language) => {\n  return await supabase\n    .from('books')\n    .select('*')\n    .eq('language', language)\n    .order('created_at', { ascending: false })\n    .returns<Book[]>()\n}\n","import { useEffect, useState } from 'react'\nimport { useLanguage } from '@/contexts/LanguageContext'\nimport { getBooks } from '@/services/books'\nimport { Book } from '@/types'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Button } from '@/components/ui/button'\nimport { BookOpen, ChevronDown, ChevronUp } from 'lucide-react'\nimport { useSEO } from '@/hooks/use-seo'\nimport { useAnalytics } from '@/hooks/use-analytics'\nimport { cn } from '@/lib/utils'\n\nfunction BookCard({\n  book,\n  trackToggle,\n}: {\n  book: Book\n  trackToggle: (title: string, state: 'open' | 'closed') => void\n}) {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const { t } = useLanguage()\n\n  const toggleSynopsis = () => {\n    const newState = !isExpanded\n    setIsExpanded(newState)\n    trackToggle(book.title, newState ? 'open' : 'closed')\n  }\n\n  return (\n    <Card className=\"overflow-hidden glass-soft border-primary/10 hover:border-primary/30 transition-all duration-300 h-full flex flex-col group animate-fade-in-up\">\n      <div className=\"aspect-[2/3] relative overflow-hidden bg-muted/30\">\n        {book.image_url ? (\n          <img\n            src={book.image_url}\n            alt={book.title}\n            loading=\"lazy\"\n            className=\"object-cover w-full h-full transition-transform duration-700 group-hover:scale-105\"\n          />\n        ) : (\n          <div className=\"w-full h-full flex flex-col items-center justify-center bg-muted/50 text-muted-foreground p-4 text-center space-y-2\">\n            <BookOpen className=\"h-12 w-12 opacity-20\" />\n            <span className=\"text-xs opacity-50\">{t.books.title}</span>\n          </div>\n        )}\n      </div>\n\n      <CardHeader className=\"pb-2 space-y-1\">\n        <CardTitle\n          className=\"text-lg leading-tight line-clamp-2\"\n          title={book.title}\n        >\n          {book.title}\n        </CardTitle>\n        <p className=\"text-sm text-muted-foreground line-clamp-1\">\n          {book.author}\n        </p>\n      </CardHeader>\n\n      <CardContent className=\"flex-1 pt-2 flex flex-col\">\n        <div\n          className={cn(\n            'text-sm text-muted-foreground relative transition-all duration-300 overflow-hidden',\n            isExpanded ? 'max-h-[500px]' : 'max-h-[80px]',\n          )}\n        >\n          <p className=\"whitespace-pre-line leading-relaxed\">\n            {book.synopsis || 'No synopsis available.'}\n          </p>\n          {!isExpanded && book.synopsis && book.synopsis.length > 100 && (\n            <div className=\"absolute bottom-0 left-0 w-full h-12 bg-gradient-to-t from-card to-transparent\" />\n          )}\n        </div>\n\n        {book.synopsis && book.synopsis.length > 50 && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={toggleSynopsis}\n            className=\"mt-2 w-full flex items-center justify-center gap-1 text-xs font-medium text-primary hover:text-primary/80 hover:bg-primary/5\"\n          >\n            {isExpanded ? (\n              <>\n                Show Less <ChevronUp className=\"h-3 w-3\" />\n              </>\n            ) : (\n              <>\n                Read Synopsis <ChevronDown className=\"h-3 w-3\" />\n              </>\n            )}\n          </Button>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default function BooksPage() {\n  const { t, language } = useLanguage()\n  const { trackBookSynopsisToggle } = useAnalytics()\n  const [books, setBooks] = useState<Book[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useSEO({\n    title: `${t.books.title} â€” Mariana Azevedo`,\n    description: t.books.description,\n  })\n\n  useEffect(() => {\n    const fetchBooks = async () => {\n      setLoading(true)\n      try {\n        const { data } = await getBooks(language)\n        if (data) setBooks(data)\n        else setBooks([])\n      } catch (err) {\n        console.error('Failed to fetch books', err)\n      } finally {\n        setLoading(false)\n      }\n    }\n    fetchBooks()\n  }, [language])\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 max-w-6xl space-y-8\">\n      <div className=\"space-y-4 animate-fade-in-down\">\n        <h1 className=\"text-4xl font-bold tracking-tight\">{t.books.title}</h1>\n        <p className=\"text-lg text-muted-foreground max-w-2xl\">\n          {t.books.description}\n        </p>\n      </div>\n\n      {loading ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {[1, 2, 3, 4].map((i) => (\n            <div key={i} className=\"space-y-4\">\n              <Skeleton className=\"aspect-[2/3] w-full rounded-xl\" />\n              <Skeleton className=\"h-4 w-3/4\" />\n              <Skeleton className=\"h-4 w-1/2\" />\n            </div>\n          ))}\n        </div>\n      ) : books.length > 0 ? (\n        <div className=\"grid grid-auto-fit grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {books.map((book) => (\n            <BookCard\n              key={book.id}\n              book={book}\n              trackToggle={trackBookSynopsisToggle}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-center py-20 bg-muted/20 rounded-xl border border-dashed border-primary/20\">\n          <BookOpen className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50\" />\n          <p className=\"text-muted-foreground\">{t.projects.no_projects}</p>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"x_google_ignoreList":[0,1],"mappings":"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"}