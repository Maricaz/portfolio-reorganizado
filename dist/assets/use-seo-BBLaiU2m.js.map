{"version":3,"file":"use-seo-BBLaiU2m.js","names":[],"sources":["../../src/hooks/use-seo.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useLanguage } from '@/contexts/LanguageContext'\nimport { getSiteSettings } from '@/services/settings'\n\ninterface JsonLdProps {\n  '@context': string\n  '@type': string\n  [key: string]: any\n}\n\ninterface SeoProps {\n  title?: string\n  description?: string\n  image?: string\n  type?: string\n  jsonLd?: JsonLdProps\n  keywords?: string\n}\n\nexport const useSEO = ({\n  title,\n  description,\n  image = '/og-image.png',\n  type = 'website',\n  jsonLd,\n  keywords,\n}: SeoProps) => {\n  const { language } = useLanguage()\n  const [globalSeo, setGlobalSeo] = useState<{\n    title: string\n    description: string\n    keywords: string\n  } | null>(null)\n\n  useEffect(() => {\n    // Ideally we would cache this or fetch it once in a provider,\n    // but for now we fetch if not present to support the SEO requirement.\n    const fetchGlobalSeo = async () => {\n      const settings = await getSiteSettings()\n      if (settings.seo_global) {\n        setGlobalSeo(settings.seo_global)\n      }\n    }\n    fetchGlobalSeo()\n  }, [])\n\n  useEffect(() => {\n    // Set Title\n    const siteTitle = globalSeo?.title || 'Portfolio'\n    const finalTitle = title ? `${title} | ${siteTitle}` : siteTitle\n    document.title = finalTitle\n\n    // Meta Description\n    const finalDescription = description || globalSeo?.description || ''\n\n    // Meta Keywords\n    const finalKeywords = keywords || globalSeo?.keywords || ''\n\n    // Helper to set meta tag\n    const setMeta = (\n      name: string,\n      content: string,\n      attr: 'name' | 'property' = 'name',\n    ) => {\n      let element = document.querySelector(`meta[${attr}=\"${name}\"]`)\n      if (!element) {\n        element = document.createElement('meta')\n        element.setAttribute(attr, name)\n        document.head.appendChild(element)\n      }\n      element.setAttribute('content', content)\n    }\n\n    // Standard Meta\n    if (finalDescription) setMeta('description', finalDescription)\n    if (finalKeywords) setMeta('keywords', finalKeywords)\n\n    // Open Graph\n    setMeta('og:title', finalTitle, 'property')\n    if (finalDescription)\n      setMeta('og:description', finalDescription, 'property')\n    setMeta('og:image', image, 'property')\n    setMeta('og:type', type, 'property')\n    setMeta('og:locale', language, 'property')\n\n    // Twitter Card\n    setMeta('twitter:card', 'summary_large_image', 'name')\n    setMeta('twitter:title', finalTitle, 'name')\n    if (finalDescription)\n      setMeta('twitter:description', finalDescription, 'name')\n    setMeta('twitter:image', image, 'name')\n\n    // Set HTML Lang Attribute\n    document.documentElement.lang = language\n\n    // JSON-LD\n    if (jsonLd) {\n      let script = document.querySelector('script[type=\"application/ld+json\"]')\n      if (!script) {\n        script = document.createElement('script')\n        script.setAttribute('type', 'application/ld+json')\n        document.head.appendChild(script)\n      }\n      script.textContent = JSON.stringify(jsonLd)\n    }\n  }, [title, description, image, type, language, jsonLd, keywords, globalSeo])\n}\n"],"mappings":";;AAmBA,MAAa,UAAU,EACrB,OACA,aACA,QAAQ,iBACR,OAAO,WACP,QACA,eACc;CACd,MAAM,EAAE,aAAa,aAAa;CAClC,MAAM,CAAC,WAAW,iBAAA,GAAA,aAAA,UAIR,KAAK;AAEf,EAAA,GAAA,aAAA,iBAAgB;EAGd,MAAM,iBAAiB,YAAY;GACjC,MAAM,WAAW,MAAM,iBAAiB;AACxC,OAAI,SAAS,WACX,cAAa,SAAS,WAAW;;AAGrC,kBAAgB;IACf,EAAE,CAAC;AAEN,EAAA,GAAA,aAAA,iBAAgB;EAEd,MAAM,YAAY,WAAW,SAAS;EACtC,MAAM,aAAa,QAAQ,GAAG,MAAM,KAAK,cAAc;AACvD,WAAS,QAAQ;EAGjB,MAAM,mBAAmB,eAAe,WAAW,eAAe;EAGlE,MAAM,gBAAgB,YAAY,WAAW,YAAY;EAGzD,MAAM,WACJ,MACA,SACA,OAA4B,WACzB;GACH,IAAI,UAAU,SAAS,cAAc,QAAQ,KAAK,IAAI,KAAK,IAAI;AAC/D,OAAI,CAAC,SAAS;AACZ,cAAU,SAAS,cAAc,OAAO;AACxC,YAAQ,aAAa,MAAM,KAAK;AAChC,aAAS,KAAK,YAAY,QAAQ;;AAEpC,WAAQ,aAAa,WAAW,QAAQ;;AAI1C,MAAI,iBAAkB,SAAQ,eAAe,iBAAiB;AAC9D,MAAI,cAAe,SAAQ,YAAY,cAAc;AAGrD,UAAQ,YAAY,YAAY,WAAW;AAC3C,MAAI,iBACF,SAAQ,kBAAkB,kBAAkB,WAAW;AACzD,UAAQ,YAAY,OAAO,WAAW;AACtC,UAAQ,WAAW,MAAM,WAAW;AACpC,UAAQ,aAAa,UAAU,WAAW;AAG1C,UAAQ,gBAAgB,uBAAuB,OAAO;AACtD,UAAQ,iBAAiB,YAAY,OAAO;AAC5C,MAAI,iBACF,SAAQ,uBAAuB,kBAAkB,OAAO;AAC1D,UAAQ,iBAAiB,OAAO,OAAO;AAGvC,WAAS,gBAAgB,OAAO;AAGhC,MAAI,QAAQ;GACV,IAAI,SAAS,SAAS,cAAc,uCAAqC;AACzE,OAAI,CAAC,QAAQ;AACX,aAAS,SAAS,cAAc,SAAS;AACzC,WAAO,aAAa,QAAQ,sBAAsB;AAClD,aAAS,KAAK,YAAY,OAAO;;AAEnC,UAAO,cAAc,KAAK,UAAU,OAAO;;IAE5C;EAAC;EAAO;EAAa;EAAO;EAAM;EAAU;EAAQ;EAAU;EAAU,CAAC"}