{"version":3,"file":"queries-C7wMNrqh.js","names":[],"sources":["../../src/lib/supabaseClient.ts","../../src/lib/queries.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\nimport { Database } from '@/lib/supabase/types'\n\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL\nconst supabaseAnonKey =\n  import.meta.env.VITE_SUPABASE_ANON_KEY ||\n  import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables')\n}\n\nexport const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey)\n","import { supabase } from '@/lib/supabaseClient'\nimport {\n  ITProject,\n  Book,\n  MusicTrack,\n  ResumeExperience,\n  ContactFormData,\n} from '@/types'\n\n/**\n * Retrieves featured projects for the Home page and all projects for the IT/Projects page.\n * @param featured - If true, returns only featured projects.\n */\nexport async function fetchProjects(featured?: boolean) {\n  let query = supabase\n    .from('it_projects')\n    .select('*')\n    .order('created_at', { ascending: false })\n\n  if (featured) {\n    query = query.eq('featured', true)\n  }\n\n  const { data, error } = await query\n\n  if (error) {\n    console.error('Error fetching projects:', error)\n    throw error\n  }\n\n  return data as ITProject[]\n}\n\n/**\n * Retrieves all books from the database.\n */\nexport async function fetchBooks() {\n  const { data, error } = await supabase\n    .from('books')\n    .select('*')\n    .order('created_at', { ascending: false })\n\n  if (error) {\n    console.error('Error fetching books:', error)\n    throw error\n  }\n\n  return data as Book[]\n}\n\n/**\n * Retrieves music tracks and their platform links.\n */\nexport async function fetchMusic() {\n  const { data, error } = await supabase\n    .from('music_tracks')\n    .select('*')\n    .order('created_at', { ascending: false })\n\n  if (error) {\n    console.error('Error fetching music:', error)\n    throw error\n  }\n\n  return data as MusicTrack[]\n}\n\n/**\n * Retrieves professional experience records.\n */\nexport async function fetchExperiences() {\n  const { data, error } = await supabase\n    .from('resume_experience')\n    .select('*')\n    .order('start_date', { ascending: false })\n\n  if (error) {\n    console.error('Error fetching experiences:', error)\n    throw error\n  }\n\n  return data as ResumeExperience[]\n}\n\n/**\n * Saves contact form data to the database.\n */\nexport async function insertContact(contact: ContactFormData) {\n  const { error } = await supabase.from('contact_submissions').insert({\n    name: contact.name,\n    email: contact.email,\n    message: contact.message,\n    origin: contact.origin || 'web',\n  })\n\n  if (error) {\n    console.error('Error inserting contact:', error)\n    throw error\n  }\n}\n"],"mappings":";AAYA,MAAa,WAAW,aATlB,4CACA,mNAQsE;ACC5E,eAAsB,cAAc,UAAoB;CACtD,IAAI,QAAQ,SACT,KAAK,cAAc,CACnB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAE5C,KAAI,SACF,SAAQ,MAAM,GAAG,YAAY,KAAK;CAGpC,MAAM,EAAE,MAAM,UAAU,MAAM;AAE9B,KAAI,OAAO;AACT,UAAQ,MAAM,4BAA4B,MAAM;AAChD,QAAM;;AAGR,QAAO;;AAMT,eAAsB,aAAa;CACjC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,QAAQ,CACb,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAE5C,KAAI,OAAO;AACT,UAAQ,MAAM,yBAAyB,MAAM;AAC7C,QAAM;;AAGR,QAAO;;AAMT,eAAsB,aAAa;CACjC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,eAAe,CACpB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAE5C,KAAI,OAAO;AACT,UAAQ,MAAM,yBAAyB,MAAM;AAC7C,QAAM;;AAGR,QAAO;;AAMT,eAAsB,mBAAmB;CACvC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,oBAAoB,CACzB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAE5C,KAAI,OAAO;AACT,UAAQ,MAAM,+BAA+B,MAAM;AACnD,QAAM;;AAGR,QAAO;;AAMT,eAAsB,cAAc,SAA0B;CAC5D,MAAM,EAAE,UAAU,MAAM,SAAS,KAAK,sBAAsB,CAAC,OAAO;EAClE,MAAM,QAAQ;EACd,OAAO,QAAQ;EACf,SAAS,QAAQ;EACjB,QAAQ,QAAQ,UAAU;EAC3B,CAAC;AAEF,KAAI,OAAO;AACT,UAAQ,MAAM,4BAA4B,MAAM;AAChD,QAAM"}