{"version":3,"file":"database-BUT6nTPG.js","names":[],"sources":["../../src/services/database.ts"],"sourcesContent":["import { supabase } from '@/lib/supabase/client'\nimport {\n  Project,\n  Book,\n  ResumeData,\n  MusicTrack,\n  ContactSubmission,\n} from '@/types'\n\nexport const getProjects = async () => {\n  const { data, error } = await supabase\n    .from('projects')\n    .select('*')\n    .order('created_at', { ascending: false })\n  return { data: data as Project[], error }\n}\n\nexport const getBooks = async () => {\n  const { data, error } = await supabase\n    .from('books')\n    .select('*')\n    .order('created_at', { ascending: false })\n  return { data: data as Book[], error }\n}\n\nexport const getResumeData = async () => {\n  const { data, error } = await supabase\n    .from('resume_data')\n    .select('*')\n    .order('created_at', { ascending: false })\n  return { data: data as ResumeData[], error }\n}\n\nexport const getMusicTracks = async () => {\n  const { data, error } = await supabase\n    .from('music_tracks')\n    .select('*')\n    .order('created_at', { ascending: false })\n  return { data: data as MusicTrack[], error }\n}\n\nexport const submitContact = async (submission: ContactSubmission) => {\n  const { data, error } = await supabase\n    .from('contact_submissions')\n    .insert([submission])\n    .select()\n  return { data, error }\n}\n\nexport const getLatestItem = async () => {\n  const { data: projects } = await supabase\n    .from('projects')\n    .select('*')\n    .limit(1)\n    .order('created_at', { ascending: false })\n\n  const { data: books } = await supabase\n    .from('books')\n    .select('*')\n    .limit(1)\n    .order('created_at', { ascending: false })\n\n  const project = projects?.[0] as Project\n  const book = books?.[0] as Book\n\n  if (project && book) {\n    return new Date(project.created_at) > new Date(book.created_at)\n      ? { type: 'project', item: project }\n      : { type: 'book', item: book }\n  } else if (project) {\n    return { type: 'project', item: project }\n  } else if (book) {\n    return { type: 'book', item: book }\n  }\n\n  return null\n}\n"],"mappings":";AASA,MAAa,cAAc,YAAY;CACrC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,WAAW,CAChB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAC5C,QAAO;EAAQ;EAAmB;EAAO;;AAG3C,MAAa,WAAW,YAAY;CAClC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,QAAQ,CACb,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAC5C,QAAO;EAAQ;EAAgB;EAAO;;AAGxC,MAAa,gBAAgB,YAAY;CACvC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,cAAc,CACnB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAC5C,QAAO;EAAQ;EAAsB;EAAO;;AAG9C,MAAa,iBAAiB,YAAY;CACxC,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,eAAe,CACpB,OAAO,IAAI,CACX,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;AAC5C,QAAO;EAAQ;EAAsB;EAAO;;AAG9C,MAAa,gBAAgB,OAAO,eAAkC;CACpE,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,sBAAsB,CAC3B,OAAO,CAAC,WAAW,CAAC,CACpB,QAAQ;AACX,QAAO;EAAE;EAAM;EAAO;;AAGxB,MAAa,gBAAgB,YAAY;CACvC,MAAM,EAAE,MAAM,aAAa,MAAM,SAC9B,KAAK,WAAW,CAChB,OAAO,IAAI,CACX,MAAM,EAAE,CACR,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;CAE5C,MAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,QAAQ,CACb,OAAO,IAAI,CACX,MAAM,EAAE,CACR,MAAM,cAAc,EAAE,WAAW,OAAO,CAAC;CAE5C,MAAM,UAAU,WAAW;CAC3B,MAAM,OAAO,QAAQ;AAErB,KAAI,WAAW,KACb,QAAO,IAAI,KAAK,QAAQ,WAAW,GAAG,IAAI,KAAK,KAAK,WAAW,GAC3D;EAAE,MAAM;EAAW,MAAM;EAAS,GAClC;EAAE,MAAM;EAAQ,MAAM;EAAM;UACvB,QACT,QAAO;EAAE,MAAM;EAAW,MAAM;EAAS;UAChC,KACT,QAAO;EAAE,MAAM;EAAQ,MAAM;EAAM;AAGrC,QAAO"}